<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-06-13 Sun 13:54 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>dotfiles</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Holy Frege" />
</head>
<body>
<div id="content">
<h1 class="title">dotfiles
<br />
<span class="subtitle">Holy Frege -12. June 2021</span>
</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org15e66ed">dotfile init과정</a></li>
<li><a href="#orgc562bdd">.dotfiles 복원하는 과정 (새로운 system에 적용하는 경우, 순서중요)</a>
<ul>
<li><a href="#orga8f56a8">Preperation</a></li>
<li><a href="#org7381399">restore brewfiles</a></li>
<li><a href="#org274c201">restore securities from dropbox</a></li>
<li><a href="#org9b28201">restore shell settings</a></li>
</ul>
</li>
<li><a href="#orgaeb0438">dotfiles 백업 과정 (새로운 설정이 생겼을 때, 기존 설정의 변경이 생겼을 때)</a>
<ul>
<li><a href="#org17f44da">Preperations</a></li>
<li><a href="#orgddf3084">put shell scripts into dotfiles ( 새로운 설정파일이라면 )</a></li>
<li><a href="#org6cfc060">put brewfiles into dotfiles</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org15e66ed" class="outline-2">
<h2 id="org15e66ed">dotfile init과정</h2>
<div class="outline-text-2" id="text-org15e66ed">
<ul class="org-ul">
<li>my design
dotfile을 만드는 과정은 여러방법이 있는데, 난 간단하게 하기로 했다. shell script로 된 설정파일(emacs에서 사용되는 폴더, security관련 파일 포함)과 application을 위한 brewfiles다. 그리고 security관련 파일인 .gpgnu와 .ssh는 dropbox에 저장한다. <del>application관련은 brewfiles로 만들어 github에 저장하고, shell script관련 설정은 dropbox에서 관리하기로 했다. github에 다 관리하지 않는 이유는 security관련 파일들이 있기 때문이다. gpg로 암호화해서 올린다고 해도, gpg private key는 내가 가지고 있어야 하기 때문이다.</del>

<ul class="org-ul">
<li>bootstrap.sh: shell script와 폴더를 symbolic link하는 명령어를 갖는  shell script. 목록도 유지한다. (security관련 파일은 dropbox에 저장)</li>
<li>brewfiles: brew로 설치되는 application을 가지고 있다. (github에 저장)</li>
</ul></li>

<li>dotfiles 만드는 과정
<ol class="org-ol">
<li>git에 .dotfiles project를 만든다.</li>
<li>.dotifiles 프로젝트를 /home에 clone한다.</li>
<li>clone한 .dotfiles 폴더안에 설정파일을 다 집어넣고, bootstrap.sh를 만든다.</li>
<li>brew bundle dump를 사용하면 현재 system에서  brew로 설치하는 application package가 list로 출력된다. 이것을 .dotfiles로 넣는다.</li>
<li>.dotfiles을 git에 push한다.</li>
<li>.gnupg와 .ssh는 보안을 위해서 dropbox에 저장한다.</li>
</ol></li>
</ul>
</div>
</div>

<div id="outline-container-orgc562bdd" class="outline-2">
<h2 id="orgc562bdd">.dotfiles 복원하는 과정 (새로운 system에 적용하는 경우, 순서중요)</h2>
<div class="outline-text-2" id="text-orgc562bdd">
</div>
<div id="outline-container-orga8f56a8" class="outline-3">
<h3 id="orga8f56a8">Preperation</h3>
<div class="outline-text-3" id="text-orga8f56a8">
<ul class="org-ul">
<li>새로운 os를 설치한 이후 진행된다.</li>
<li>brew를 설치한다. <a href="https://brew.sh">참조</a></li>
<li>brew로 git을 설치한다. (brew install git)</li>
<li>brew로 dropbox를 설치한다. (brew install &#x2013;cask dropbox)</li>
<li>github에 있는 .dotfiles라는 project를 clone한다.</li>
</ul>
</div>
</div>

<div id="outline-container-org7381399" class="outline-3">
<h3 id="org7381399">restore brewfiles</h3>
<div class="outline-text-3" id="text-org7381399">
<ul class="org-ul">
<li>dotfiles폴더에서 brew bundle [&#x2013;file=&lt;path&gt;] 을 실행한다.</li>
</ul>
</div>
</div>

<div id="outline-container-org274c201" class="outline-3">
<h3 id="org274c201">restore securities from dropbox</h3>
<div class="outline-text-3" id="text-org274c201">
<ul class="org-ul">
<li>security관련 파일에 대한 link는 boostrap.sh에 있기 때문에 아래에서 실행해주면 home폴더로 symbolic link를 걸어준다.</li>
</ul>
</div>
</div>

<div id="outline-container-org9b28201" class="outline-3">
<h3 id="org9b28201">restore shell settings</h3>
<div class="outline-text-3" id="text-org9b28201">
<ul class="org-ul">
<li>/.dotfiles/bootstrap.sh를 실행한다.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgaeb0438" class="outline-2">
<h2 id="orgaeb0438">dotfiles 백업 과정 (새로운 설정이 생겼을 때, 기존 설정의 변경이 생겼을 때)</h2>
<div class="outline-text-2" id="text-orgaeb0438">
</div>
<div id="outline-container-org17f44da" class="outline-3">
<h3 id="org17f44da">Preperations</h3>
<div class="outline-text-3" id="text-org17f44da">
<ul class="org-ul">
<li>새로운 application을 설치했는데, 이것이 유지해야 할 application인지 판단해야 한다.</li>
<li>새로운 설정파일이라면, 그리고 새로운 system을 설치할때 적용될 중요한 설정인지를 판단해야 한다.</li>
<li>기존 설정의 변경이라면 shell script는 symbolic link가 걸려 있어서 자동으로 update된다.</li>
</ul>
</div>
</div>

<div id="outline-container-orgddf3084" class="outline-3">
<h3 id="orgddf3084">put shell scripts into dotfiles ( 새로운 설정파일이라면 )</h3>
<div class="outline-text-3" id="text-orgddf3084">
<ul class="org-ul">
<li>./dotfiles/boostrap.sh를 update한다.</li>
</ul>
</div>
</div>

<div id="outline-container-org6cfc060" class="outline-3">
<h3 id="org6cfc060">put brewfiles into dotfiles</h3>
<div class="outline-text-3" id="text-org6cfc060">
<ul class="org-ul">
<li>새로운 app을 brew로 설치했다면, brew bundle dump 로 brewfiles를 뽑아서 .dotfiles에 넣는다.</li>
</ul>
</div>
</div>
</div>
</div>
</body>
</html>
